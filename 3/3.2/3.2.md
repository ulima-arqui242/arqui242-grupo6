# 3.2. Modelo de Coordinación

El modelo de coordinación para la aplicación de seguimiento de hábitos está diseñado para facilitar la interacción eficiente entre los diversos módulos del sistema, asegurando una experiencia fluida para el usuario y el cumplimiento de los requisitos funcionales.


**Identificación de Elementos y sus Interacciones**

- Módulos Interactuantes:

  - Módulo de Usuarios: Coordina el registro, inicio de sesión y gestión de perfiles.
  - Módulo de Hábitos: Interactúa con el Módulo de Usuarios para asociar hábitos a cada usuario.
  - Módulo de Seguimiento: Depende de los Módulos de Usuarios y Hábitos para registrar y visualizar el progreso.
  - Módulo de Motivación: Se integra con el Módulo de Usuarios para enviar notificaciones y mensajes motivacionales.
  - Módulo de Amigos: Coordina la búsqueda y conexión entre usuarios, así como el seguimiento del progreso.
  - Módulo de Chat: Facilita la comunicación entre usuarios y grupos, interactuando con todos los demás módulos para recibir y enviar mensajes.
- Interacciones Prohibidas: No se permiten interacciones directas entre el Módulo de Chat y el Módulo de Hábitos para evitar la mezcla de datos y mantener la coherencia en la información.

**Propiedades de la Coordinación**
  - Oportunidad: La comunicación entre módulos debe ser en tiempo real, especialmente en los Módulos de Amigos y Chat, donde la interacción rápida es clave.
  - Frecuencia: Las actualizaciones de hábitos y progreso deben ser enviadas y recibidas en intervalos cortos (por ejemplo: cada vez que se complete un hábito).
  - Completitud: Es necesario asegurar que todos los datos relevantes se transmitan entre los módulos sin pérdidas.
  - Consistencia: Los datos deben ser consistentes en todos los módulos, garantizando que cualquier cambio en el Módulo de Hábitos se refleje inmediatamente en el Módulo de Seguimiento.
    
**Mecanismos de Comunicación**

- **Interacción Interna:**

  - Síncrono: Se utilizarán llamadas API RESTful entre módulos dentro de la aplicación para obtener información actualizada, por ejemplo, al iniciar sesión o registrar hábitos completados.
  - Asíncrono: Se implementará WebSocket en el Módulo de Chat para permitir la mensajería en tiempo real entre usuarios.

- Integración con Sistemas Externos: La aplicación puede integrarse con sistemas de notificación (como Firebase Cloud Messaging) para enviar alertas y mensajes motivacionales.

**Propiedades de los Mecanismos de Comunicación**
  - Stateful vs. Stateless: Se opta por un enfoque stateless para las interacciones entre módulos, manteniendo la simplicidad y escalabilidad del sistema. El estado se maneja en el cliente para la mayoría de las interacciones.
  - Síncrono vs. Asíncrono: Se emplearán ambos tipos según el contexto; las interacciones críticas (como inicio de sesión) serán síncronas, mientras que las interacciones de chat serán asíncronas para permitir una experiencia fluida.
  - Latencia: Se buscará minimizar la latencia en todas las comunicaciones, especialmente en la mensajería y notificaciones, para asegurar una respuesta rápida.
  - Throughput: El sistema está diseñado para manejar un alto throughput, especialmente en el Módulo de Chat, donde se espera que múltiples usuarios se comuniquen simultáneamente.
