# 7.5. Patrones Cloud

## ADR: Decision sobre el uso del patron Gatekeeper

## Contexto
VitaTrack se está desarrollando como una app basada en microservicios, lo que implica que varios servicios deben interactuar de manera segura en la nube. El patrón Cloud Gatekeeper permite centralizar el control de acceso, la autenticación y la autorización de los servicios mediante un único punto de entrada. Sin embargo, tambien puede agregar complejidad y requerir infraestructura adicional. Es importante decidir si esta capa adicional de seguridad vale la pena en el desarrollo de VitaTrack.

## Alternativas
1. Implementar el Patrón Cloud Gatekeeper
- Ventajas:
  - Centralización de seguridad: Proporciona un único punto de control para la autenticación y autorización.
  - Gestión de políticas: Simplifica la aplicación de políticas de seguridad, límites de tráfico, y validación de solicitudes.
  - Protección contra amenazas: Detecta y bloquea accesos no autorizados o solicitudes maliciosas antes de llegar a los microservicios internos.
  - Escalabilidad: Maneja el acceso a microservicios sin exponerlos directamente al cliente.
- Desventajas:
  - Complejidad inicial: Requiere diseñar y configurar un servicio adicional, lo que aumenta el tiempo de desarrollo para levantar este servicio.
  - Costos adicionales: La infraestructura y el mantenimiento del Gatekeeper incrementan los costos operativos.
  - Riesgo de punto único de fallo: Si el Gatekeeper falla, toda la aplicación podría volverse inaccesible sin redundancia.
2. No implementar el Patrón Cloud Gatekeeper y gestionar accesos directamente en cada servicio
- Ventajas:
 - Simplicidad: Menos componentes en la infraestructura inicial, reduciendo la complejidad del sistema.
 - Menor costo: Evita el costo de configurar y mantener un Gatekeeper.
 - Rapidez en la entrega: Permite enfocarse en implementar funcionalidades en lugar de configurar seguridad centralizada.
- Desventajas:
 - Descentralización de políticas: Cada servicio debe gestionar sus propios controles de acceso, lo que puede generar inconsistencias.
 - Mayor riesgo de vulnerabilidades: Los microservicios podrían exponerse directamente a solicitudes maliciosas si no se configuran adecuadamente.
 - Escalabilidad limitada: A medida que la aplicación crezca, manejar accesos en cada servicio se volverá más complejo.

## Criterios de Elección
Nivel de seguridad necesario
Escalabilidad
Complejidad permitida
Presupuesto 
Impacto en el tiempo de entrega

## Decisión
Sí se implementará el patrón Cloud Gatekeeper

Sustento
A medida que VitaTrack crezca en usuarios y complejidad, un Gatekeeper será crucial para escalar de manera segura. Actualmente, la mayoria de los modulos requieren de autenticacion para proporcionar servicios segun el usuario, por lo que se requiere un alto nivel de segurdad. Su implementación permitira centralizar el acceso para lograr un mayor control de seguridad, minimizando la exposición de los microservicios y mejorando la protección contra amenazas. Con ello, futuros modulos que requieran validar la identidad del usuario podrán ser implementados de una manera mas sencilla, facilitando el crecimiento de la aplicación.
